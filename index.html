<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Curricular Interactiva</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fdf6f9;
      padding: 20px;
    }
    h1 {
      color: #c06c84;
      text-align: center;
    }
    .ciclo {
      background: #fbe8f0;
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .ciclo h2 {
      color: #a17fc2;
    }
    .curso {
      margin: 8px 0;
      padding: 8px 12px;
      border-radius: 8px;
      background: #fff;
      border: 2px solid #e8c6df;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: background 0.3s;
    }
    .curso input[type=checkbox] {
      accent-color: #c06c84;
      transform: scale(1.2);
    }
    .curso.inactivo {
      opacity: 0.5;
      pointer-events: none;
    }
    .prerequisitos {
      font-size: 0.8em;
      color: #999;
    }
  </style>
</head>
<body>
  <h1>Malla Curricular Interactiva</h1>
  <div id="contenedor"></div>

  <script>
    const cursos = {
      "PRIMER CICLO": [
        { nombre: "HISTORIA DE LAS IDEAS POLÍTICAS" },
        { nombre: "HISTORIA COMPARADA" },
        { nombre: "ESTRATEGIAS DE APRENDIZAJE" },
        { nombre: "ECONOMÍA POLÍTICA" },
        { nombre: "ÉTICA CIUDADANA Y PROFESIONAL" },
        { nombre: "LENGUAJE I" },
        { nombre: "INGLÉS I" },
        { nombre: "ACTIVIDADES I" }
      ],
      "SEGUNDO CICLO": [
        { nombre: "HISTORIA DE LAS IDEAS POLÍTICAS II", prereq: ["HISTORIA DE LAS IDEAS POLÍTICAS"] },
        { nombre: "HISTORIA GENERAL DEL DERECHO", prereq: ["HISTORIA COMPARADA"] },
        { nombre: "CIENCIA POLÍTICA", prereq: ["ESTRATEGIAS DE APRENDIZAJE"] },
        { nombre: "FUNDAMENTOS DE ECONOMÍA", prereq: ["ECONOMÍA POLÍTICA"] },
        { nombre: "TEORÍA DEL DERECHO I", prereq: ["ÉTICA CIUDADANA Y PROFESIONAL"] },
        { nombre: "LENGUAJE II", prereq: ["LENGUAJE I"] },
        { nombre: "INGLES II", prereq: ["INGLÉS I"] },
        { nombre: "ACTIVIDADES II", prereq: ["ACTIVIDADES I"] }
      ]
    };

    const completados = new Set();

    const contenedor = document.getElementById("contenedor");

    function renderCursos() {
      contenedor.innerHTML = "";

      for (const [ciclo, materias] of Object.entries(cursos)) {
        const divCiclo = document.createElement("div");
        divCiclo.className = "ciclo";

        const h2 = document.createElement("h2");
        h2.textContent = ciclo;
        divCiclo.appendChild(h2);

        for (const materia of materias) {
          const divCurso = document.createElement("div");
          divCurso.className = "curso";

          const label = document.createElement("label");
          label.textContent = materia.nombre;

          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";

          const inactiva = materia.prereq && !materia.prereq.every(pr => completados.has(pr));
          if (inactiva) {
            divCurso.classList.add("inactivo");
            checkbox.disabled = true;
            const span = document.createElement("span");
            span.className = "prerequisitos";
            span.textContent = `Prereq: ${materia.prereq.join(", ")}`;
            divCurso.appendChild(span);
          }

          checkbox.addEventListener("change", () => {
            if (checkbox.checked) {
              completados.add(materia.nombre);
            } else {
              completados.delete(materia.nombre);
            }
            renderCursos();
          });

          divCurso.insertBefore(checkbox, label);
          divCurso.appendChild(label);
          divCiclo.appendChild(divCurso);
        }

        contenedor.appendChild(divCiclo);
      }
    }

    renderCursos();
  </script>
</body>
</html>
